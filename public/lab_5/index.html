<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Yunze Niu's LAB 4</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;800&display=swap" rel="stylesheet">
  </head>

  <body>
 <h1>Yunze Niu's LAB 4</h1>
      <div class = "container">
          <form method="post" action="/api">
              <ul class = "flex-outer">
                    <li>
                        <label for = "fname">First Name</label>
                        <input type = "text" id ="fname" name = "fname" maxlength="140" placeholder="Enter your first name.">
                    </li>
                    <li>
                        <label for = "lname">Last Name</label>
                        <input type = "text" id ="lname" name = "lname" maxlength="140" placeholder="Enter your last name.">
                    </li>
                <li>
                    <label for = "email">Email</label>
                    <input type = "email" id = "email" name = "email" placeholder="Enter your Email.">
                </li>
                <li>
                    <label for = "phone">Phone</label>
                    <input type = "tel" id = "phone" name = "phone" placeholder="Enter your phone number.">
                </li>
                <li>
                    <label for = "message">Text field</label>
                    <textarea id = "message" name = "message" rows = "5" cols = "33" placeholder="This is some default message text."></textarea>
                </li>
                <li>
                        <p class = "checkbox-list-label">Age</p>
                            <ul class = "flex-inner">
                                <li>
                                    <input type = "checkbox" id = "eighteen-to-thirtyfive" name = "eighteen-to-thirtyfive">
                                    <label for = "eighteen-to-thirtyfive">18-35</label>
                                </li>
                                <li>
                                    <input type = "checkbox" id = "thirtyfive-to-fifty" name = "thirtyfive-to-fifty">
                                    <label for = "thirtyfive-to-fifty">35-50</label>
                                </li>
                                <li>
                                    <input type = "checkbox" id = "fifty-to-sixtyfive" name = "fifty-to-sixtyfive">
                                    <label for = "fifty-to-sixtyfive">50-65</label>
                                </li> 
                            </ul>
                        </li>
                <li>
                    <button class = "submit" id = "submit" name = "submit" type = "submit">Submit Form</button>
                </li>
                <li>
                    <button onclick="testFunction()" class = "button" id = "active" name = "submit" type = "button">Activate</button>
                </li>
              </ul>
          </form>
      </div>

     <script>
         function testFunction() {
        fetch('/api')
        .then((response) => response.text())
        .then((response) => {
             console.log(response);
             const elements = document.querySelectorAll('.flex-inner li label')
             const fruitArray = ['Kiwi','Apple','Pomelo']
              elements.forEach((el,i) => {
                  const text = el.innerText;
                  console.log(text);
                  el.innerText = fruitArray[i];
              })
              const fruit = document.querySelector(".checkbox-list-label").textContent = "Fruits";

              const title = document.querySelector("h1").textContent = "Lab 5 for Yunze Niu";
              const color = document.querySelector("body").style.backgroundColor = "pink";
              const margin = document.querySelector(".flex-outer").style.margin = "0 auto";

            })
        }
     </script>

    </body>
</html>